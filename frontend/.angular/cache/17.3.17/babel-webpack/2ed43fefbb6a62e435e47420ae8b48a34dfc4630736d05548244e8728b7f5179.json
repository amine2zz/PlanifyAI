{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/calendar.service\";\nimport * as i2 from \"@angular/common\";\nfunction VoiceAssistantComponent_div_12_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"strong\");\n    i0.ɵɵtext(2, \"AI understood:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 15)(4, \"p\")(5, \"strong\");\n    i0.ɵɵtext(6, \"Event:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\n    i0.ɵɵtext(10, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n    i0.ɵɵtext(14, \"Time:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Duration:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 16)(21, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function VoiceAssistantComponent_div_12_div_5_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.confirmEvent());\n    });\n    i0.ɵɵtext(22, \"\\u2705 Add to Calendar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function VoiceAssistantComponent_div_12_div_5_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.editEvent());\n    });\n    i0.ɵɵtext(24, \"\\u270F\\uFE0F Edit Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function VoiceAssistantComponent_div_12_div_5_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cancelEvent());\n    });\n    i0.ɵɵtext(26, \"\\u274C Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiInterpretation.title, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiInterpretation.date, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiInterpretation.time, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiInterpretation.duration, \" minutes\");\n  }\n}\nfunction VoiceAssistantComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"strong\");\n    i0.ɵɵtext(3, \"You said:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, VoiceAssistantComponent_div_12_div_5_Template, 27, 4, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \\\"\", ctx_r1.transcript, \"\\\" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.aiInterpretation);\n  }\n}\nfunction VoiceAssistantComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function VoiceAssistantComponent_div_17_Template_div_click_0_listener() {\n      const example_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.useExample(example_r4));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const example_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\\"\", example_r4, \"\\\" \");\n  }\n}\nfunction VoiceAssistantComponent_div_18_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"span\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 25);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const event_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(event_r5.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", event_r5.date, \" at \", event_r5.time, \"\");\n  }\n}\nfunction VoiceAssistantComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"h4\");\n    i0.ɵɵtext(2, \"Recent Voice-Created Events:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, VoiceAssistantComponent_div_18_div_3_Template, 5, 3, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.recentVoiceEvents);\n  }\n}\nexport class VoiceAssistantComponent {\n  constructor(calendarService) {\n    this.calendarService = calendarService;\n    this.isListening = false;\n    this.isProcessing = false;\n    this.transcript = '';\n    this.aiInterpretation = null;\n    this.recentVoiceEvents = [];\n    this.voiceExamples = [\"Schedule meeting with team tomorrow at 10 AM\", \"Add lunch with Sarah on Friday at 1 PM\", \"Block 2 hours for project work next Monday morning\", \"Remind me to call client at 3 PM today\", \"Schedule doctor appointment next week\", \"Add gym session every Tuesday at 6 PM\"];\n  }\n  ngOnInit() {\n    this.initializeSpeechRecognition();\n    this.loadRecentVoiceEvents();\n  }\n  ngOnDestroy() {\n    if (this.recognition) {\n      this.recognition.stop();\n    }\n  }\n  initializeSpeechRecognition() {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;\n      this.recognition = new SpeechRecognition();\n      this.recognition.continuous = false;\n      this.recognition.interimResults = false;\n      this.recognition.lang = 'en-US';\n      this.recognition.onstart = () => {\n        this.isListening = true;\n      };\n      this.recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        this.transcript = transcript;\n        this.isListening = false;\n        this.isProcessing = true;\n        this.processVoiceInput(transcript);\n      };\n      this.recognition.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        this.isListening = false;\n        this.isProcessing = false;\n      };\n      this.recognition.onend = () => {\n        this.isListening = false;\n      };\n    }\n  }\n  toggleListening() {\n    if (this.isListening) {\n      this.recognition.stop();\n    } else {\n      this.startListening();\n    }\n  }\n  startListening() {\n    if (this.recognition) {\n      this.transcript = '';\n      this.aiInterpretation = null;\n      this.recognition.start();\n    } else {\n      alert('Speech recognition not supported in this browser. Please use Chrome or Edge.');\n    }\n  }\n  processVoiceInput(transcript) {\n    // Process locally if backend not available\n    this.isProcessing = true;\n    // Try backend first\n    this.calendarService.processVoiceCommand(transcript).subscribe({\n      next: interpretation => {\n        this.aiInterpretation = interpretation.event || interpretation;\n        this.isProcessing = false;\n        this.speakResponse(`I understood: ${this.aiInterpretation.title} on ${this.aiInterpretation.date} at ${this.aiInterpretation.time}`);\n      },\n      error: error => {\n        console.log('Backend not available, processing locally...');\n        // Fallback to local processing\n        this.processVoiceLocally(transcript);\n      }\n    });\n  }\n  processVoiceLocally(transcript) {\n    const interpretation = this.parseVoiceCommand(transcript);\n    this.aiInterpretation = interpretation;\n    this.isProcessing = false;\n    this.speakResponse(`I understood: ${interpretation.title} on ${interpretation.date} at ${interpretation.time}`);\n  }\n  parseVoiceCommand(transcript) {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    // Extract title (remove command words)\n    let title = transcript.replace(/schedule|add|create|book|set up|plan/gi, '').replace(/tomorrow|today|at \\d+|on \\w+/gi, '').trim();\n    if (!title) title = 'New Event';\n    // Extract date\n    let date = today.toISOString().split('T')[0];\n    if (transcript.toLowerCase().includes('tomorrow')) {\n      date = tomorrow.toISOString().split('T')[0];\n    }\n    // Extract time\n    let time = '09:00';\n    const timeMatch = transcript.match(/(\\d{1,2})\\s*(am|pm|:\\d{2})/i);\n    if (timeMatch) {\n      let hour = parseInt(timeMatch[1]);\n      const period = timeMatch[2].toLowerCase();\n      if (period.includes('pm') && hour !== 12) hour += 12;\n      if (period.includes('am') && hour === 12) hour = 0;\n      time = `${hour.toString().padStart(2, '0')}:00`;\n    }\n    // Determine category\n    let category = 'general';\n    if (transcript.toLowerCase().includes('meeting')) category = 'meeting';\n    if (transcript.toLowerCase().includes('lunch')) category = 'personal';\n    if (transcript.toLowerCase().includes('work')) category = 'work';\n    return {\n      title: title.charAt(0).toUpperCase() + title.slice(1),\n      date: date,\n      time: time,\n      duration: 60,\n      category: category,\n      priority: 'medium'\n    };\n  }\n  speakResponse(text) {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      speechSynthesis.speak(utterance);\n    }\n  }\n  confirmEvent() {\n    if (this.aiInterpretation) {\n      const event = {\n        title: this.aiInterpretation.title,\n        date: this.aiInterpretation.date,\n        startTime: this.aiInterpretation.time,\n        endTime: this.calculateEndTime(this.aiInterpretation.time, this.aiInterpretation.duration),\n        category: this.aiInterpretation.category || 'general',\n        priority: this.aiInterpretation.priority || 'medium',\n        description: `Created via voice command: \"${this.transcript}\"`\n      };\n      this.calendarService.createEvent(event).subscribe({\n        next: createdEvent => {\n          this.recentVoiceEvents.unshift(event);\n          this.saveRecentVoiceEvents();\n          this.speakResponse(\"Event added to your calendar successfully!\");\n          this.clearVoiceInput();\n        },\n        error: error => {\n          console.error('Error creating event:', error);\n          this.speakResponse(\"Sorry, there was an error adding the event.\");\n        }\n      });\n    }\n  }\n  editEvent() {\n    // Open edit modal or navigate to edit page\n    this.speakResponse(\"Opening event editor\");\n  }\n  cancelEvent() {\n    this.clearVoiceInput();\n    this.speakResponse(\"Event cancelled\");\n  }\n  useExample(example) {\n    this.transcript = example;\n    this.isProcessing = true;\n    this.processVoiceInput(example);\n  }\n  calculateEndTime(startTime, duration) {\n    const [hours, minutes] = startTime.split(':').map(Number);\n    const startDate = new Date();\n    startDate.setHours(hours, minutes, 0, 0);\n    startDate.setMinutes(startDate.getMinutes() + duration);\n    return `${startDate.getHours().toString().padStart(2, '0')}:${startDate.getMinutes().toString().padStart(2, '0')}`;\n  }\n  clearVoiceInput() {\n    this.transcript = '';\n    this.aiInterpretation = null;\n  }\n  loadRecentVoiceEvents() {\n    const saved = localStorage.getItem('recentVoiceEvents');\n    if (saved) {\n      this.recentVoiceEvents = JSON.parse(saved);\n    }\n  }\n  saveRecentVoiceEvents() {\n    localStorage.setItem('recentVoiceEvents', JSON.stringify(this.recentVoiceEvents.slice(0, 5)));\n  }\n  static {\n    this.ɵfac = function VoiceAssistantComponent_Factory(t) {\n      return new (t || VoiceAssistantComponent)(i0.ɵɵdirectiveInject(i1.CalendarService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VoiceAssistantComponent,\n      selectors: [[\"app-voice-assistant\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 19,\n      vars: 9,\n      consts: [[1, \"voice-assistant\"], [1, \"voice-header\"], [1, \"voice-controls\"], [1, \"voice-btn\", 3, \"click\", \"disabled\"], [1, \"mic-icon\"], [1, \"status-text\"], [\"class\", \"voice-feedback\", 4, \"ngIf\"], [1, \"voice-examples\"], [1, \"examples\"], [\"class\", \"example\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"recent-voice-events\", 4, \"ngIf\"], [1, \"voice-feedback\"], [1, \"transcript\"], [\"class\", \"ai-interpretation\", 4, \"ngIf\"], [1, \"ai-interpretation\"], [1, \"interpretation-details\"], [1, \"action-buttons\"], [1, \"confirm-btn\", 3, \"click\"], [1, \"edit-btn\", 3, \"click\"], [1, \"cancel-btn\", 3, \"click\"], [1, \"example\", 3, \"click\"], [1, \"recent-voice-events\"], [\"class\", \"recent-event\", 4, \"ngFor\", \"ngForOf\"], [1, \"recent-event\"], [1, \"event-title\"], [1, \"event-date\"]],\n      template: function VoiceAssistantComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n          i0.ɵɵtext(3, \"\\uD83C\\uDFA4 AI Voice Assistant\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\");\n          i0.ɵɵtext(5, \"Say something like: \\\"Schedule meeting with John tomorrow at 2 PM\\\"\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 2)(7, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function VoiceAssistantComponent_Template_button_click_7_listener() {\n            return ctx.toggleListening();\n          });\n          i0.ɵɵelementStart(8, \"span\", 4);\n          i0.ɵɵtext(9, \"\\uD83C\\uDFA4\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"span\", 5);\n          i0.ɵɵtext(11);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(12, VoiceAssistantComponent_div_12_Template, 6, 2, \"div\", 6);\n          i0.ɵɵelementStart(13, \"div\", 7)(14, \"h4\");\n          i0.ɵɵtext(15, \"Try saying:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 8);\n          i0.ɵɵtemplate(17, VoiceAssistantComponent_div_17_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(18, VoiceAssistantComponent_div_18_Template, 4, 1, \"div\", 10);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵclassProp(\"listening\", ctx.isListening)(\"processing\", ctx.isProcessing);\n          i0.ɵɵproperty(\"disabled\", ctx.isProcessing);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isListening ? \"Listening...\" : ctx.isProcessing ? \"Processing...\" : \"Click to Speak\", \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.transcript);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.voiceExamples);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.recentVoiceEvents.length > 0);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf],\n      styles: [\".voice-assistant[_ngcontent-%COMP%] {\\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n      border-radius: 16px;\\n      padding: 2rem;\\n      color: white;\\n      margin: 1rem 0;\\n    }\\n\\n    .voice-header[_ngcontent-%COMP%] {\\n      text-align: center;\\n      margin-bottom: 2rem;\\n    }\\n\\n    .voice-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n      margin: 0 0 0.5rem 0;\\n      font-size: 1.5rem;\\n    }\\n\\n    .voice-controls[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: center;\\n      margin-bottom: 2rem;\\n    }\\n\\n    .voice-btn[_ngcontent-%COMP%] {\\n      background: rgba(255,255,255,0.2);\\n      border: 2px solid rgba(255,255,255,0.3);\\n      border-radius: 50px;\\n      padding: 1rem 2rem;\\n      color: white;\\n      font-size: 1.1rem;\\n      cursor: pointer;\\n      transition: all 0.3s ease;\\n      display: flex;\\n      align-items: center;\\n      gap: 0.5rem;\\n    }\\n\\n    .voice-btn[_ngcontent-%COMP%]:hover {\\n      background: rgba(255,255,255,0.3);\\n      transform: translateY(-2px);\\n    }\\n\\n    .voice-btn.listening[_ngcontent-%COMP%] {\\n      background: #ff4757;\\n      border-color: #ff4757;\\n      animation: _ngcontent-%COMP%_pulse 1.5s infinite;\\n    }\\n\\n    .voice-btn.processing[_ngcontent-%COMP%] {\\n      background: #ffa502;\\n      border-color: #ffa502;\\n    }\\n\\n    @keyframes _ngcontent-%COMP%_pulse {\\n      0% { transform: scale(1); }\\n      50% { transform: scale(1.05); }\\n      100% { transform: scale(1); }\\n    }\\n\\n    .mic-icon[_ngcontent-%COMP%] {\\n      font-size: 1.2rem;\\n    }\\n\\n    .voice-feedback[_ngcontent-%COMP%] {\\n      background: rgba(255,255,255,0.1);\\n      border-radius: 12px;\\n      padding: 1.5rem;\\n      margin-bottom: 2rem;\\n    }\\n\\n    .transcript[_ngcontent-%COMP%] {\\n      margin-bottom: 1rem;\\n      font-style: italic;\\n    }\\n\\n    .ai-interpretation[_ngcontent-%COMP%] {\\n      background: rgba(255,255,255,0.1);\\n      border-radius: 8px;\\n      padding: 1rem;\\n    }\\n\\n    .interpretation-details[_ngcontent-%COMP%] {\\n      margin: 1rem 0;\\n    }\\n\\n    .interpretation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n      margin: 0.5rem 0;\\n    }\\n\\n    .action-buttons[_ngcontent-%COMP%] {\\n      display: flex;\\n      gap: 0.5rem;\\n      flex-wrap: wrap;\\n    }\\n\\n    .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n      padding: 0.5rem 1rem;\\n      border: none;\\n      border-radius: 6px;\\n      cursor: pointer;\\n      font-size: 0.9rem;\\n    }\\n\\n    .confirm-btn[_ngcontent-%COMP%] {\\n      background: #2ed573;\\n      color: white;\\n    }\\n\\n    .edit-btn[_ngcontent-%COMP%] {\\n      background: #ffa502;\\n      color: white;\\n    }\\n\\n    .cancel-btn[_ngcontent-%COMP%] {\\n      background: #ff4757;\\n      color: white;\\n    }\\n\\n    .voice-examples[_ngcontent-%COMP%] {\\n      margin-bottom: 2rem;\\n    }\\n\\n    .voice-examples[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n      margin-bottom: 1rem;\\n    }\\n\\n    .examples[_ngcontent-%COMP%] {\\n      display: grid;\\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\n      gap: 0.5rem;\\n    }\\n\\n    .example[_ngcontent-%COMP%] {\\n      background: rgba(255,255,255,0.1);\\n      padding: 0.75rem;\\n      border-radius: 8px;\\n      cursor: pointer;\\n      transition: background 0.2s;\\n      font-style: italic;\\n    }\\n\\n    .example[_ngcontent-%COMP%]:hover {\\n      background: rgba(255,255,255,0.2);\\n    }\\n\\n    .recent-voice-events[_ngcontent-%COMP%] {\\n      background: rgba(255,255,255,0.1);\\n      border-radius: 12px;\\n      padding: 1rem;\\n    }\\n\\n    .recent-event[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: space-between;\\n      padding: 0.5rem 0;\\n      border-bottom: 1px solid rgba(255,255,255,0.1);\\n    }\\n\\n    .recent-event[_ngcontent-%COMP%]:last-child {\\n      border-bottom: none;\\n    }\\n\\n    @media (max-width: 768px) {\\n      .voice-assistant[_ngcontent-%COMP%] {\\n        padding: 1rem;\\n      }\\n      \\n      .action-buttons[_ngcontent-%COMP%] {\\n        flex-direction: column;\\n      }\\n      \\n      .examples[_ngcontent-%COMP%] {\\n        grid-template-columns: 1fr;\\n      }\\n    }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy92b2ljZS1hc3Npc3RhbnQvdm9pY2UtYXNzaXN0YW50LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0lBQ0k7TUFDRSw2REFBNkQ7TUFDN0QsbUJBQW1CO01BQ25CLGFBQWE7TUFDYixZQUFZO01BQ1osY0FBYztJQUNoQjs7SUFFQTtNQUNFLGtCQUFrQjtNQUNsQixtQkFBbUI7SUFDckI7O0lBRUE7TUFDRSxvQkFBb0I7TUFDcEIsaUJBQWlCO0lBQ25COztJQUVBO01BQ0UsYUFBYTtNQUNiLHVCQUF1QjtNQUN2QixtQkFBbUI7SUFDckI7O0lBRUE7TUFDRSxpQ0FBaUM7TUFDakMsdUNBQXVDO01BQ3ZDLG1CQUFtQjtNQUNuQixrQkFBa0I7TUFDbEIsWUFBWTtNQUNaLGlCQUFpQjtNQUNqQixlQUFlO01BQ2YseUJBQXlCO01BQ3pCLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsV0FBVztJQUNiOztJQUVBO01BQ0UsaUNBQWlDO01BQ2pDLDJCQUEyQjtJQUM3Qjs7SUFFQTtNQUNFLG1CQUFtQjtNQUNuQixxQkFBcUI7TUFDckIsOEJBQThCO0lBQ2hDOztJQUVBO01BQ0UsbUJBQW1CO01BQ25CLHFCQUFxQjtJQUN2Qjs7SUFFQTtNQUNFLEtBQUssbUJBQW1CLEVBQUU7TUFDMUIsTUFBTSxzQkFBc0IsRUFBRTtNQUM5QixPQUFPLG1CQUFtQixFQUFFO0lBQzlCOztJQUVBO01BQ0UsaUJBQWlCO0lBQ25COztJQUVBO01BQ0UsaUNBQWlDO01BQ2pDLG1CQUFtQjtNQUNuQixlQUFlO01BQ2YsbUJBQW1CO0lBQ3JCOztJQUVBO01BQ0UsbUJBQW1CO01BQ25CLGtCQUFrQjtJQUNwQjs7SUFFQTtNQUNFLGlDQUFpQztNQUNqQyxrQkFBa0I7TUFDbEIsYUFBYTtJQUNmOztJQUVBO01BQ0UsY0FBYztJQUNoQjs7SUFFQTtNQUNFLGdCQUFnQjtJQUNsQjs7SUFFQTtNQUNFLGFBQWE7TUFDYixXQUFXO01BQ1gsZUFBZTtJQUNqQjs7SUFFQTtNQUNFLG9CQUFvQjtNQUNwQixZQUFZO01BQ1osa0JBQWtCO01BQ2xCLGVBQWU7TUFDZixpQkFBaUI7SUFDbkI7O0lBRUE7TUFDRSxtQkFBbUI7TUFDbkIsWUFBWTtJQUNkOztJQUVBO01BQ0UsbUJBQW1CO01BQ25CLFlBQVk7SUFDZDs7SUFFQTtNQUNFLG1CQUFtQjtNQUNuQixZQUFZO0lBQ2Q7O0lBRUE7TUFDRSxtQkFBbUI7SUFDckI7O0lBRUE7TUFDRSxtQkFBbUI7SUFDckI7O0lBRUE7TUFDRSxhQUFhO01BQ2IsMkRBQTJEO01BQzNELFdBQVc7SUFDYjs7SUFFQTtNQUNFLGlDQUFpQztNQUNqQyxnQkFBZ0I7TUFDaEIsa0JBQWtCO01BQ2xCLGVBQWU7TUFDZiwyQkFBMkI7TUFDM0Isa0JBQWtCO0lBQ3BCOztJQUVBO01BQ0UsaUNBQWlDO0lBQ25DOztJQUVBO01BQ0UsaUNBQWlDO01BQ2pDLG1CQUFtQjtNQUNuQixhQUFhO0lBQ2Y7O0lBRUE7TUFDRSxhQUFhO01BQ2IsOEJBQThCO01BQzlCLGlCQUFpQjtNQUNqQiw4Q0FBOEM7SUFDaEQ7O0lBRUE7TUFDRSxtQkFBbUI7SUFDckI7O0lBRUE7TUFDRTtRQUNFLGFBQWE7TUFDZjs7TUFFQTtRQUNFLHNCQUFzQjtNQUN4Qjs7TUFFQTtRQUNFLDBCQUEwQjtNQUM1QjtJQUNGIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLnZvaWNlLWFzc2lzdGFudCB7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgICAgIHBhZGRpbmc6IDJyZW07XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBtYXJnaW46IDFyZW0gMDtcbiAgICB9XG5cbiAgICAudm9pY2UtaGVhZGVyIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XG4gICAgfVxuXG4gICAgLnZvaWNlLWhlYWRlciBoMyB7XG4gICAgICBtYXJnaW46IDAgMCAwLjVyZW0gMDtcbiAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgIH1cblxuICAgIC52b2ljZS1jb250cm9scyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICAgIH1cblxuICAgIC52b2ljZS1idG4ge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpO1xuICAgICAgYm9yZGVyOiAycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjMpO1xuICAgICAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICAgIHBhZGRpbmc6IDFyZW0gMnJlbTtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgZ2FwOiAwLjVyZW07XG4gICAgfVxuXG4gICAgLnZvaWNlLWJ0bjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMyk7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgfVxuXG4gICAgLnZvaWNlLWJ0bi5saXN0ZW5pbmcge1xuICAgICAgYmFja2dyb3VuZDogI2ZmNDc1NztcbiAgICAgIGJvcmRlci1jb2xvcjogI2ZmNDc1NztcbiAgICAgIGFuaW1hdGlvbjogcHVsc2UgMS41cyBpbmZpbml0ZTtcbiAgICB9XG5cbiAgICAudm9pY2UtYnRuLnByb2Nlc3Npbmcge1xuICAgICAgYmFja2dyb3VuZDogI2ZmYTUwMjtcbiAgICAgIGJvcmRlci1jb2xvcjogI2ZmYTUwMjtcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIHB1bHNlIHtcbiAgICAgIDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICAgICAgNTAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsgfVxuICAgICAgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMSk7IH1cbiAgICB9XG5cbiAgICAubWljLWljb24ge1xuICAgICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgfVxuXG4gICAgLnZvaWNlLWZlZWRiYWNrIHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBwYWRkaW5nOiAxLjVyZW07XG4gICAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICAgIH1cblxuICAgIC50cmFuc2NyaXB0IHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG4gICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgfVxuXG4gICAgLmFpLWludGVycHJldGF0aW9uIHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgfVxuXG4gICAgLmludGVycHJldGF0aW9uLWRldGFpbHMge1xuICAgICAgbWFyZ2luOiAxcmVtIDA7XG4gICAgfVxuXG4gICAgLmludGVycHJldGF0aW9uLWRldGFpbHMgcCB7XG4gICAgICBtYXJnaW46IDAuNXJlbSAwO1xuICAgIH1cblxuICAgIC5hY3Rpb24tYnV0dG9ucyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZ2FwOiAwLjVyZW07XG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgfVxuXG4gICAgLmFjdGlvbi1idXR0b25zIGJ1dHRvbiB7XG4gICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgIH1cblxuICAgIC5jb25maXJtLWJ0biB7XG4gICAgICBiYWNrZ3JvdW5kOiAjMmVkNTczO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cblxuICAgIC5lZGl0LWJ0biB7XG4gICAgICBiYWNrZ3JvdW5kOiAjZmZhNTAyO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cblxuICAgIC5jYW5jZWwtYnRuIHtcbiAgICAgIGJhY2tncm91bmQ6ICNmZjQ3NTc7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLnZvaWNlLWV4YW1wbGVzIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XG4gICAgfVxuXG4gICAgLnZvaWNlLWV4YW1wbGVzIGg0IHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG4gICAgfVxuXG4gICAgLmV4YW1wbGVzIHtcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI1MHB4LCAxZnIpKTtcbiAgICAgIGdhcDogMC41cmVtO1xuICAgIH1cblxuICAgIC5leGFtcGxlIHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTtcbiAgICAgIHBhZGRpbmc6IDAuNzVyZW07XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7XG4gICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgfVxuXG4gICAgLmV4YW1wbGU6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpO1xuICAgIH1cblxuICAgIC5yZWNlbnQtdm9pY2UtZXZlbnRzIHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBwYWRkaW5nOiAxcmVtO1xuICAgIH1cblxuICAgIC5yZWNlbnQtZXZlbnQge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIHBhZGRpbmc6IDAuNXJlbSAwO1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKTtcbiAgICB9XG5cbiAgICAucmVjZW50LWV2ZW50Omxhc3QtY2hpbGQge1xuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgIC52b2ljZS1hc3Npc3RhbnQge1xuICAgICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgfVxuICAgICAgXG4gICAgICAuYWN0aW9uLWJ1dHRvbnMge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuICAgICAgXG4gICAgICAuZXhhbXBsZXMge1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICAgIH1cbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","VoiceAssistantComponent_div_12_div_5_Template_button_click_21_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","confirmEvent","VoiceAssistantComponent_div_12_div_5_Template_button_click_23_listener","editEvent","VoiceAssistantComponent_div_12_div_5_Template_button_click_25_listener","cancelEvent","ɵɵadvance","ɵɵtextInterpolate1","aiInterpretation","title","date","time","duration","ɵɵtemplate","VoiceAssistantComponent_div_12_div_5_Template","transcript","ɵɵproperty","VoiceAssistantComponent_div_17_Template_div_click_0_listener","example_r4","_r3","$implicit","useExample","ɵɵtextInterpolate","event_r5","ɵɵtextInterpolate2","VoiceAssistantComponent_div_18_div_3_Template","recentVoiceEvents","VoiceAssistantComponent","constructor","calendarService","isListening","isProcessing","voiceExamples","ngOnInit","initializeSpeechRecognition","loadRecentVoiceEvents","ngOnDestroy","recognition","stop","window","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","results","processVoiceInput","onerror","console","error","onend","toggleListening","startListening","start","alert","processVoiceCommand","subscribe","next","interpretation","speakResponse","log","processVoiceLocally","parseVoiceCommand","today","Date","tomorrow","setDate","getDate","replace","trim","toISOString","split","toLowerCase","includes","timeMatch","match","hour","parseInt","period","toString","padStart","category","charAt","toUpperCase","slice","priority","text","utterance","SpeechSynthesisUtterance","rate","pitch","speechSynthesis","speak","startTime","endTime","calculateEndTime","description","createEvent","createdEvent","unshift","saveRecentVoiceEvents","clearVoiceInput","example","hours","minutes","map","Number","startDate","setHours","setMinutes","getMinutes","getHours","saved","localStorage","getItem","JSON","parse","setItem","stringify","ɵɵdirectiveInject","i1","CalendarService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","VoiceAssistantComponent_Template","rf","ctx","VoiceAssistantComponent_Template_button_click_7_listener","VoiceAssistantComponent_div_12_Template","VoiceAssistantComponent_div_17_Template","VoiceAssistantComponent_div_18_Template","ɵɵclassProp","length","i2","NgForOf","NgIf","styles"],"sources":["C:\\Users\\Amine Ghariani\\OneDrive\\Bureau\\PlanifyAI\\PlanifyAI\\frontend\\src\\app\\components\\voice-assistant\\voice-assistant.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CalendarService } from '../../services/calendar.service';\n\n@Component({\n  selector: 'app-voice-assistant',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div class=\"voice-assistant\">\n      <div class=\"voice-header\">\n        <h3>🎤 AI Voice Assistant</h3>\n        <p>Say something like: \"Schedule meeting with John tomorrow at 2 PM\"</p>\n      </div>\n      \n      <div class=\"voice-controls\">\n        <button \n          class=\"voice-btn\"\n          [class.listening]=\"isListening\"\n          [class.processing]=\"isProcessing\"\n          (click)=\"toggleListening()\"\n          [disabled]=\"isProcessing\">\n          <span class=\"mic-icon\">🎤</span>\n          <span class=\"status-text\">\n            {{isListening ? 'Listening...' : isProcessing ? 'Processing...' : 'Click to Speak'}}\n          </span>\n        </button>\n      </div>\n\n      <div class=\"voice-feedback\" *ngIf=\"transcript\">\n        <div class=\"transcript\">\n          <strong>You said:</strong> \"{{transcript}}\"\n        </div>\n        <div class=\"ai-interpretation\" *ngIf=\"aiInterpretation\">\n          <strong>AI understood:</strong>\n          <div class=\"interpretation-details\">\n            <p><strong>Event:</strong> {{aiInterpretation.title}}</p>\n            <p><strong>Date:</strong> {{aiInterpretation.date}}</p>\n            <p><strong>Time:</strong> {{aiInterpretation.time}}</p>\n            <p><strong>Duration:</strong> {{aiInterpretation.duration}} minutes</p>\n          </div>\n          <div class=\"action-buttons\">\n            <button class=\"confirm-btn\" (click)=\"confirmEvent()\">✅ Add to Calendar</button>\n            <button class=\"edit-btn\" (click)=\"editEvent()\">✏️ Edit Details</button>\n            <button class=\"cancel-btn\" (click)=\"cancelEvent()\">❌ Cancel</button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"voice-examples\">\n        <h4>Try saying:</h4>\n        <div class=\"examples\">\n          <div class=\"example\" (click)=\"useExample(example)\" *ngFor=\"let example of voiceExamples\">\n            \"{{example}}\"\n          </div>\n        </div>\n      </div>\n\n      <div class=\"recent-voice-events\" *ngIf=\"recentVoiceEvents.length > 0\">\n        <h4>Recent Voice-Created Events:</h4>\n        <div class=\"recent-event\" *ngFor=\"let event of recentVoiceEvents\">\n          <span class=\"event-title\">{{event.title}}</span>\n          <span class=\"event-date\">{{event.date}} at {{event.time}}</span>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .voice-assistant {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      border-radius: 16px;\n      padding: 2rem;\n      color: white;\n      margin: 1rem 0;\n    }\n\n    .voice-header {\n      text-align: center;\n      margin-bottom: 2rem;\n    }\n\n    .voice-header h3 {\n      margin: 0 0 0.5rem 0;\n      font-size: 1.5rem;\n    }\n\n    .voice-controls {\n      display: flex;\n      justify-content: center;\n      margin-bottom: 2rem;\n    }\n\n    .voice-btn {\n      background: rgba(255,255,255,0.2);\n      border: 2px solid rgba(255,255,255,0.3);\n      border-radius: 50px;\n      padding: 1rem 2rem;\n      color: white;\n      font-size: 1.1rem;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .voice-btn:hover {\n      background: rgba(255,255,255,0.3);\n      transform: translateY(-2px);\n    }\n\n    .voice-btn.listening {\n      background: #ff4757;\n      border-color: #ff4757;\n      animation: pulse 1.5s infinite;\n    }\n\n    .voice-btn.processing {\n      background: #ffa502;\n      border-color: #ffa502;\n    }\n\n    @keyframes pulse {\n      0% { transform: scale(1); }\n      50% { transform: scale(1.05); }\n      100% { transform: scale(1); }\n    }\n\n    .mic-icon {\n      font-size: 1.2rem;\n    }\n\n    .voice-feedback {\n      background: rgba(255,255,255,0.1);\n      border-radius: 12px;\n      padding: 1.5rem;\n      margin-bottom: 2rem;\n    }\n\n    .transcript {\n      margin-bottom: 1rem;\n      font-style: italic;\n    }\n\n    .ai-interpretation {\n      background: rgba(255,255,255,0.1);\n      border-radius: 8px;\n      padding: 1rem;\n    }\n\n    .interpretation-details {\n      margin: 1rem 0;\n    }\n\n    .interpretation-details p {\n      margin: 0.5rem 0;\n    }\n\n    .action-buttons {\n      display: flex;\n      gap: 0.5rem;\n      flex-wrap: wrap;\n    }\n\n    .action-buttons button {\n      padding: 0.5rem 1rem;\n      border: none;\n      border-radius: 6px;\n      cursor: pointer;\n      font-size: 0.9rem;\n    }\n\n    .confirm-btn {\n      background: #2ed573;\n      color: white;\n    }\n\n    .edit-btn {\n      background: #ffa502;\n      color: white;\n    }\n\n    .cancel-btn {\n      background: #ff4757;\n      color: white;\n    }\n\n    .voice-examples {\n      margin-bottom: 2rem;\n    }\n\n    .voice-examples h4 {\n      margin-bottom: 1rem;\n    }\n\n    .examples {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n      gap: 0.5rem;\n    }\n\n    .example {\n      background: rgba(255,255,255,0.1);\n      padding: 0.75rem;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: background 0.2s;\n      font-style: italic;\n    }\n\n    .example:hover {\n      background: rgba(255,255,255,0.2);\n    }\n\n    .recent-voice-events {\n      background: rgba(255,255,255,0.1);\n      border-radius: 12px;\n      padding: 1rem;\n    }\n\n    .recent-event {\n      display: flex;\n      justify-content: space-between;\n      padding: 0.5rem 0;\n      border-bottom: 1px solid rgba(255,255,255,0.1);\n    }\n\n    .recent-event:last-child {\n      border-bottom: none;\n    }\n\n    @media (max-width: 768px) {\n      .voice-assistant {\n        padding: 1rem;\n      }\n      \n      .action-buttons {\n        flex-direction: column;\n      }\n      \n      .examples {\n        grid-template-columns: 1fr;\n      }\n    }\n  `]\n})\nexport class VoiceAssistantComponent implements OnInit, OnDestroy {\n  isListening = false;\n  isProcessing = false;\n  transcript = '';\n  aiInterpretation: any = null;\n  recentVoiceEvents: any[] = [];\n  \n  private recognition: any;\n  private speechSynthesis: any;\n\n  voiceExamples = [\n    \"Schedule meeting with team tomorrow at 10 AM\",\n    \"Add lunch with Sarah on Friday at 1 PM\",\n    \"Block 2 hours for project work next Monday morning\",\n    \"Remind me to call client at 3 PM today\",\n    \"Schedule doctor appointment next week\",\n    \"Add gym session every Tuesday at 6 PM\"\n  ];\n\n  constructor(private calendarService: CalendarService) {}\n\n  ngOnInit() {\n    this.initializeSpeechRecognition();\n    this.loadRecentVoiceEvents();\n  }\n\n  ngOnDestroy() {\n    if (this.recognition) {\n      this.recognition.stop();\n    }\n  }\n\n  initializeSpeechRecognition() {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = (window as any).webkitSpeechRecognition || (window as any).SpeechRecognition;\n      this.recognition = new SpeechRecognition();\n      \n      this.recognition.continuous = false;\n      this.recognition.interimResults = false;\n      this.recognition.lang = 'en-US';\n\n      this.recognition.onstart = () => {\n        this.isListening = true;\n      };\n\n      this.recognition.onresult = (event: any) => {\n        const transcript = event.results[0][0].transcript;\n        this.transcript = transcript;\n        this.isListening = false;\n        this.isProcessing = true;\n        this.processVoiceInput(transcript);\n      };\n\n      this.recognition.onerror = (event: any) => {\n        console.error('Speech recognition error:', event.error);\n        this.isListening = false;\n        this.isProcessing = false;\n      };\n\n      this.recognition.onend = () => {\n        this.isListening = false;\n      };\n    }\n  }\n\n  toggleListening() {\n    if (this.isListening) {\n      this.recognition.stop();\n    } else {\n      this.startListening();\n    }\n  }\n\n  startListening() {\n    if (this.recognition) {\n      this.transcript = '';\n      this.aiInterpretation = null;\n      this.recognition.start();\n    } else {\n      alert('Speech recognition not supported in this browser. Please use Chrome or Edge.');\n    }\n  }\n\n  processVoiceInput(transcript: string) {\n    // Process locally if backend not available\n    this.isProcessing = true;\n    \n    // Try backend first\n    this.calendarService.processVoiceCommand(transcript).subscribe({\n      next: (interpretation) => {\n        this.aiInterpretation = interpretation.event || interpretation;\n        this.isProcessing = false;\n        this.speakResponse(`I understood: ${this.aiInterpretation.title} on ${this.aiInterpretation.date} at ${this.aiInterpretation.time}`);\n      },\n      error: (error) => {\n        console.log('Backend not available, processing locally...');\n        // Fallback to local processing\n        this.processVoiceLocally(transcript);\n      }\n    });\n  }\n\n  processVoiceLocally(transcript: string) {\n    const interpretation = this.parseVoiceCommand(transcript);\n    this.aiInterpretation = interpretation;\n    this.isProcessing = false;\n    this.speakResponse(`I understood: ${interpretation.title} on ${interpretation.date} at ${interpretation.time}`);\n  }\n\n  parseVoiceCommand(transcript: string): any {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    \n    // Extract title (remove command words)\n    let title = transcript\n      .replace(/schedule|add|create|book|set up|plan/gi, '')\n      .replace(/tomorrow|today|at \\d+|on \\w+/gi, '')\n      .trim();\n    \n    if (!title) title = 'New Event';\n    \n    // Extract date\n    let date = today.toISOString().split('T')[0];\n    if (transcript.toLowerCase().includes('tomorrow')) {\n      date = tomorrow.toISOString().split('T')[0];\n    }\n    \n    // Extract time\n    let time = '09:00';\n    const timeMatch = transcript.match(/(\\d{1,2})\\s*(am|pm|:\\d{2})/i);\n    if (timeMatch) {\n      let hour = parseInt(timeMatch[1]);\n      const period = timeMatch[2].toLowerCase();\n      \n      if (period.includes('pm') && hour !== 12) hour += 12;\n      if (period.includes('am') && hour === 12) hour = 0;\n      \n      time = `${hour.toString().padStart(2, '0')}:00`;\n    }\n    \n    // Determine category\n    let category = 'general';\n    if (transcript.toLowerCase().includes('meeting')) category = 'meeting';\n    if (transcript.toLowerCase().includes('lunch')) category = 'personal';\n    if (transcript.toLowerCase().includes('work')) category = 'work';\n    \n    return {\n      title: title.charAt(0).toUpperCase() + title.slice(1),\n      date: date,\n      time: time,\n      duration: 60,\n      category: category,\n      priority: 'medium'\n    };\n  }\n\n  speakResponse(text: string) {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      speechSynthesis.speak(utterance);\n    }\n  }\n\n  confirmEvent() {\n    if (this.aiInterpretation) {\n      const event = {\n        title: this.aiInterpretation.title,\n        date: this.aiInterpretation.date,\n        startTime: this.aiInterpretation.time,\n        endTime: this.calculateEndTime(this.aiInterpretation.time, this.aiInterpretation.duration),\n        category: this.aiInterpretation.category || 'general',\n        priority: this.aiInterpretation.priority || 'medium',\n        description: `Created via voice command: \"${this.transcript}\"`\n      };\n\n      this.calendarService.createEvent(event).subscribe({\n        next: (createdEvent) => {\n          this.recentVoiceEvents.unshift(event);\n          this.saveRecentVoiceEvents();\n          this.speakResponse(\"Event added to your calendar successfully!\");\n          this.clearVoiceInput();\n        },\n        error: (error) => {\n          console.error('Error creating event:', error);\n          this.speakResponse(\"Sorry, there was an error adding the event.\");\n        }\n      });\n    }\n  }\n\n  editEvent() {\n    // Open edit modal or navigate to edit page\n    this.speakResponse(\"Opening event editor\");\n  }\n\n  cancelEvent() {\n    this.clearVoiceInput();\n    this.speakResponse(\"Event cancelled\");\n  }\n\n  useExample(example: string) {\n    this.transcript = example;\n    this.isProcessing = true;\n    this.processVoiceInput(example);\n  }\n\n  private calculateEndTime(startTime: string, duration: number): string {\n    const [hours, minutes] = startTime.split(':').map(Number);\n    const startDate = new Date();\n    startDate.setHours(hours, minutes, 0, 0);\n    startDate.setMinutes(startDate.getMinutes() + duration);\n    \n    return `${startDate.getHours().toString().padStart(2, '0')}:${startDate.getMinutes().toString().padStart(2, '0')}`;\n  }\n\n  private clearVoiceInput() {\n    this.transcript = '';\n    this.aiInterpretation = null;\n  }\n\n  private loadRecentVoiceEvents() {\n    const saved = localStorage.getItem('recentVoiceEvents');\n    if (saved) {\n      this.recentVoiceEvents = JSON.parse(saved);\n    }\n  }\n\n  private saveRecentVoiceEvents() {\n    localStorage.setItem('recentVoiceEvents', JSON.stringify(this.recentVoiceEvents.slice(0, 5)));\n  }\n}"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;;;;;;;IAiCpCC,EADF,CAAAC,cAAA,cAAwD,aAC9C;IAAAD,EAAA,CAAAE,MAAA,qBAAc;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAE1BH,EADL,CAAAC,cAAA,cAAoC,QAC/B,aAAQ;IAAAD,EAAA,CAAAE,MAAA,aAAM;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAACH,EAAA,CAAAE,MAAA,GAA0B;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACtDH,EAAH,CAAAC,cAAA,QAAG,aAAQ;IAAAD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAACH,EAAA,CAAAE,MAAA,IAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACpDH,EAAH,CAAAC,cAAA,SAAG,cAAQ;IAAAD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAACH,EAAA,CAAAE,MAAA,IAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACpDH,EAAH,CAAAC,cAAA,SAAG,cAAQ;IAAAD,EAAA,CAAAE,MAAA,iBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAACH,EAAA,CAAAE,MAAA,IAAqC;IACrEF,EADqE,CAAAG,YAAA,EAAI,EACnE;IAEJH,EADF,CAAAC,cAAA,eAA4B,kBAC2B;IAAzBD,EAAA,CAAAI,UAAA,mBAAAC,uEAAA;MAAAL,EAAA,CAAAM,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAAT,EAAA,CAAAU,WAAA,CAASF,MAAA,CAAAG,YAAA,EAAc;IAAA,EAAC;IAACX,EAAA,CAAAE,MAAA,8BAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAC/EH,EAAA,CAAAC,cAAA,kBAA+C;IAAtBD,EAAA,CAAAI,UAAA,mBAAAQ,uEAAA;MAAAZ,EAAA,CAAAM,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAAT,EAAA,CAAAU,WAAA,CAASF,MAAA,CAAAK,SAAA,EAAW;IAAA,EAAC;IAACb,EAAA,CAAAE,MAAA,iCAAe;IAAAF,EAAA,CAAAG,YAAA,EAAS;IACvEH,EAAA,CAAAC,cAAA,kBAAmD;IAAxBD,EAAA,CAAAI,UAAA,mBAAAU,uEAAA;MAAAd,EAAA,CAAAM,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAAT,EAAA,CAAAU,WAAA,CAASF,MAAA,CAAAO,WAAA,EAAa;IAAA,EAAC;IAACf,EAAA,CAAAE,MAAA,qBAAQ;IAE/DF,EAF+D,CAAAG,YAAA,EAAS,EAChE,EACF;;;;IAVyBH,EAAA,CAAAgB,SAAA,GAA0B;IAA1BhB,EAAA,CAAAiB,kBAAA,MAAAT,MAAA,CAAAU,gBAAA,CAAAC,KAAA,KAA0B;IAC3BnB,EAAA,CAAAgB,SAAA,GAAyB;IAAzBhB,EAAA,CAAAiB,kBAAA,MAAAT,MAAA,CAAAU,gBAAA,CAAAE,IAAA,KAAyB;IACzBpB,EAAA,CAAAgB,SAAA,GAAyB;IAAzBhB,EAAA,CAAAiB,kBAAA,MAAAT,MAAA,CAAAU,gBAAA,CAAAG,IAAA,KAAyB;IACrBrB,EAAA,CAAAgB,SAAA,GAAqC;IAArChB,EAAA,CAAAiB,kBAAA,MAAAT,MAAA,CAAAU,gBAAA,CAAAI,QAAA,aAAqC;;;;;IARrEtB,EAFJ,CAAAC,cAAA,cAA+C,cACrB,aACd;IAAAD,EAAA,CAAAE,MAAA,gBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAACH,EAAA,CAAAE,MAAA,GAC7B;IAAAF,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAuB,UAAA,IAAAC,6CAAA,mBAAwD;IAc1DxB,EAAA,CAAAG,YAAA,EAAM;;;;IAhByBH,EAAA,CAAAgB,SAAA,GAC7B;IAD6BhB,EAAA,CAAAiB,kBAAA,QAAAT,MAAA,CAAAiB,UAAA,QAC7B;IACgCzB,EAAA,CAAAgB,SAAA,EAAsB;IAAtBhB,EAAA,CAAA0B,UAAA,SAAAlB,MAAA,CAAAU,gBAAA,CAAsB;;;;;;IAmBpDlB,EAAA,CAAAC,cAAA,cAAyF;IAApED,EAAA,CAAAI,UAAA,mBAAAuB,6DAAA;MAAA,MAAAC,UAAA,GAAA5B,EAAA,CAAAM,aAAA,CAAAuB,GAAA,EAAAC,SAAA;MAAA,MAAAtB,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAAT,EAAA,CAAAU,WAAA,CAASF,MAAA,CAAAuB,UAAA,CAAAH,UAAA,CAAmB;IAAA,EAAC;IAChD5B,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAgB,SAAA,EACF;IADEhB,EAAA,CAAAiB,kBAAA,QAAAW,UAAA,QACF;;;;;IAOA5B,EADF,CAAAC,cAAA,cAAkE,eACtC;IAAAD,EAAA,CAAAE,MAAA,GAAe;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAChDH,EAAA,CAAAC,cAAA,eAAyB;IAAAD,EAAA,CAAAE,MAAA,GAAgC;IAC3DF,EAD2D,CAAAG,YAAA,EAAO,EAC5D;;;;IAFsBH,EAAA,CAAAgB,SAAA,GAAe;IAAfhB,EAAA,CAAAgC,iBAAA,CAAAC,QAAA,CAAAd,KAAA,CAAe;IAChBnB,EAAA,CAAAgB,SAAA,GAAgC;IAAhChB,EAAA,CAAAkC,kBAAA,KAAAD,QAAA,CAAAb,IAAA,UAAAa,QAAA,CAAAZ,IAAA,KAAgC;;;;;IAH3DrB,EADF,CAAAC,cAAA,cAAsE,SAChE;IAAAD,EAAA,CAAAE,MAAA,mCAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACrCH,EAAA,CAAAuB,UAAA,IAAAY,6CAAA,kBAAkE;IAIpEnC,EAAA,CAAAG,YAAA,EAAM;;;;IAJwCH,EAAA,CAAAgB,SAAA,GAAoB;IAApBhB,EAAA,CAAA0B,UAAA,YAAAlB,MAAA,CAAA4B,iBAAA,CAAoB;;;AA0LxE,OAAM,MAAOC,uBAAuB;EAmBlCC,YAAoBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;IAlBnC,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,YAAY,GAAG,KAAK;IACpB,KAAAhB,UAAU,GAAG,EAAE;IACf,KAAAP,gBAAgB,GAAQ,IAAI;IAC5B,KAAAkB,iBAAiB,GAAU,EAAE;IAK7B,KAAAM,aAAa,GAAG,CACd,8CAA8C,EAC9C,wCAAwC,EACxC,oDAAoD,EACpD,wCAAwC,EACxC,uCAAuC,EACvC,uCAAuC,CACxC;EAEsD;EAEvDC,QAAQA,CAAA;IACN,IAAI,CAACC,2BAA2B,EAAE;IAClC,IAAI,CAACC,qBAAqB,EAAE;EAC9B;EAEAC,WAAWA,CAAA;IACT,IAAI,IAAI,CAACC,WAAW,EAAE;MACpB,IAAI,CAACA,WAAW,CAACC,IAAI,EAAE;;EAE3B;EAEAJ,2BAA2BA,CAAA;IACzB,IAAI,yBAAyB,IAAIK,MAAM,IAAI,mBAAmB,IAAIA,MAAM,EAAE;MACxE,MAAMC,iBAAiB,GAAID,MAAc,CAACE,uBAAuB,IAAKF,MAAc,CAACC,iBAAiB;MACtG,IAAI,CAACH,WAAW,GAAG,IAAIG,iBAAiB,EAAE;MAE1C,IAAI,CAACH,WAAW,CAACK,UAAU,GAAG,KAAK;MACnC,IAAI,CAACL,WAAW,CAACM,cAAc,GAAG,KAAK;MACvC,IAAI,CAACN,WAAW,CAACO,IAAI,GAAG,OAAO;MAE/B,IAAI,CAACP,WAAW,CAACQ,OAAO,GAAG,MAAK;QAC9B,IAAI,CAACf,WAAW,GAAG,IAAI;MACzB,CAAC;MAED,IAAI,CAACO,WAAW,CAACS,QAAQ,GAAIC,KAAU,IAAI;QACzC,MAAMhC,UAAU,GAAGgC,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACjC,UAAU;QACjD,IAAI,CAACA,UAAU,GAAGA,UAAU;QAC5B,IAAI,CAACe,WAAW,GAAG,KAAK;QACxB,IAAI,CAACC,YAAY,GAAG,IAAI;QACxB,IAAI,CAACkB,iBAAiB,CAAClC,UAAU,CAAC;MACpC,CAAC;MAED,IAAI,CAACsB,WAAW,CAACa,OAAO,GAAIH,KAAU,IAAI;QACxCI,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEL,KAAK,CAACK,KAAK,CAAC;QACvD,IAAI,CAACtB,WAAW,GAAG,KAAK;QACxB,IAAI,CAACC,YAAY,GAAG,KAAK;MAC3B,CAAC;MAED,IAAI,CAACM,WAAW,CAACgB,KAAK,GAAG,MAAK;QAC5B,IAAI,CAACvB,WAAW,GAAG,KAAK;MAC1B,CAAC;;EAEL;EAEAwB,eAAeA,CAAA;IACb,IAAI,IAAI,CAACxB,WAAW,EAAE;MACpB,IAAI,CAACO,WAAW,CAACC,IAAI,EAAE;KACxB,MAAM;MACL,IAAI,CAACiB,cAAc,EAAE;;EAEzB;EAEAA,cAAcA,CAAA;IACZ,IAAI,IAAI,CAAClB,WAAW,EAAE;MACpB,IAAI,CAACtB,UAAU,GAAG,EAAE;MACpB,IAAI,CAACP,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAAC6B,WAAW,CAACmB,KAAK,EAAE;KACzB,MAAM;MACLC,KAAK,CAAC,8EAA8E,CAAC;;EAEzF;EAEAR,iBAAiBA,CAAClC,UAAkB;IAClC;IACA,IAAI,CAACgB,YAAY,GAAG,IAAI;IAExB;IACA,IAAI,CAACF,eAAe,CAAC6B,mBAAmB,CAAC3C,UAAU,CAAC,CAAC4C,SAAS,CAAC;MAC7DC,IAAI,EAAGC,cAAc,IAAI;QACvB,IAAI,CAACrD,gBAAgB,GAAGqD,cAAc,CAACd,KAAK,IAAIc,cAAc;QAC9D,IAAI,CAAC9B,YAAY,GAAG,KAAK;QACzB,IAAI,CAAC+B,aAAa,CAAC,iBAAiB,IAAI,CAACtD,gBAAgB,CAACC,KAAK,OAAO,IAAI,CAACD,gBAAgB,CAACE,IAAI,OAAO,IAAI,CAACF,gBAAgB,CAACG,IAAI,EAAE,CAAC;MACtI,CAAC;MACDyC,KAAK,EAAGA,KAAK,IAAI;QACfD,OAAO,CAACY,GAAG,CAAC,8CAA8C,CAAC;QAC3D;QACA,IAAI,CAACC,mBAAmB,CAACjD,UAAU,CAAC;MACtC;KACD,CAAC;EACJ;EAEAiD,mBAAmBA,CAACjD,UAAkB;IACpC,MAAM8C,cAAc,GAAG,IAAI,CAACI,iBAAiB,CAAClD,UAAU,CAAC;IACzD,IAAI,CAACP,gBAAgB,GAAGqD,cAAc;IACtC,IAAI,CAAC9B,YAAY,GAAG,KAAK;IACzB,IAAI,CAAC+B,aAAa,CAAC,iBAAiBD,cAAc,CAACpD,KAAK,OAAOoD,cAAc,CAACnD,IAAI,OAAOmD,cAAc,CAAClD,IAAI,EAAE,CAAC;EACjH;EAEAsD,iBAAiBA,CAAClD,UAAkB;IAClC,MAAMmD,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxB,MAAMC,QAAQ,GAAG,IAAID,IAAI,CAACD,KAAK,CAAC;IAChCE,QAAQ,CAACC,OAAO,CAACD,QAAQ,CAACE,OAAO,EAAE,GAAG,CAAC,CAAC;IAExC;IACA,IAAI7D,KAAK,GAAGM,UAAU,CACnBwD,OAAO,CAAC,wCAAwC,EAAE,EAAE,CAAC,CACrDA,OAAO,CAAC,gCAAgC,EAAE,EAAE,CAAC,CAC7CC,IAAI,EAAE;IAET,IAAI,CAAC/D,KAAK,EAAEA,KAAK,GAAG,WAAW;IAE/B;IACA,IAAIC,IAAI,GAAGwD,KAAK,CAACO,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI3D,UAAU,CAAC4D,WAAW,EAAE,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MACjDlE,IAAI,GAAG0D,QAAQ,CAACK,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;IAG7C;IACA,IAAI/D,IAAI,GAAG,OAAO;IAClB,MAAMkE,SAAS,GAAG9D,UAAU,CAAC+D,KAAK,CAAC,6BAA6B,CAAC;IACjE,IAAID,SAAS,EAAE;MACb,IAAIE,IAAI,GAAGC,QAAQ,CAACH,SAAS,CAAC,CAAC,CAAC,CAAC;MACjC,MAAMI,MAAM,GAAGJ,SAAS,CAAC,CAAC,CAAC,CAACF,WAAW,EAAE;MAEzC,IAAIM,MAAM,CAACL,QAAQ,CAAC,IAAI,CAAC,IAAIG,IAAI,KAAK,EAAE,EAAEA,IAAI,IAAI,EAAE;MACpD,IAAIE,MAAM,CAACL,QAAQ,CAAC,IAAI,CAAC,IAAIG,IAAI,KAAK,EAAE,EAAEA,IAAI,GAAG,CAAC;MAElDpE,IAAI,GAAG,GAAGoE,IAAI,CAACG,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK;;IAGjD;IACA,IAAIC,QAAQ,GAAG,SAAS;IACxB,IAAIrE,UAAU,CAAC4D,WAAW,EAAE,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAEQ,QAAQ,GAAG,SAAS;IACtE,IAAIrE,UAAU,CAAC4D,WAAW,EAAE,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAEQ,QAAQ,GAAG,UAAU;IACrE,IAAIrE,UAAU,CAAC4D,WAAW,EAAE,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAEQ,QAAQ,GAAG,MAAM;IAEhE,OAAO;MACL3E,KAAK,EAAEA,KAAK,CAAC4E,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAG7E,KAAK,CAAC8E,KAAK,CAAC,CAAC,CAAC;MACrD7E,IAAI,EAAEA,IAAI;MACVC,IAAI,EAAEA,IAAI;MACVC,QAAQ,EAAE,EAAE;MACZwE,QAAQ,EAAEA,QAAQ;MAClBI,QAAQ,EAAE;KACX;EACH;EAEA1B,aAAaA,CAAC2B,IAAY;IACxB,IAAI,iBAAiB,IAAIlD,MAAM,EAAE;MAC/B,MAAMmD,SAAS,GAAG,IAAIC,wBAAwB,CAACF,IAAI,CAAC;MACpDC,SAAS,CAACE,IAAI,GAAG,GAAG;MACpBF,SAAS,CAACG,KAAK,GAAG,CAAC;MACnBC,eAAe,CAACC,KAAK,CAACL,SAAS,CAAC;;EAEpC;EAEAzF,YAAYA,CAAA;IACV,IAAI,IAAI,CAACO,gBAAgB,EAAE;MACzB,MAAMuC,KAAK,GAAG;QACZtC,KAAK,EAAE,IAAI,CAACD,gBAAgB,CAACC,KAAK;QAClCC,IAAI,EAAE,IAAI,CAACF,gBAAgB,CAACE,IAAI;QAChCsF,SAAS,EAAE,IAAI,CAACxF,gBAAgB,CAACG,IAAI;QACrCsF,OAAO,EAAE,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAAC1F,gBAAgB,CAACG,IAAI,EAAE,IAAI,CAACH,gBAAgB,CAACI,QAAQ,CAAC;QAC1FwE,QAAQ,EAAE,IAAI,CAAC5E,gBAAgB,CAAC4E,QAAQ,IAAI,SAAS;QACrDI,QAAQ,EAAE,IAAI,CAAChF,gBAAgB,CAACgF,QAAQ,IAAI,QAAQ;QACpDW,WAAW,EAAE,+BAA+B,IAAI,CAACpF,UAAU;OAC5D;MAED,IAAI,CAACc,eAAe,CAACuE,WAAW,CAACrD,KAAK,CAAC,CAACY,SAAS,CAAC;QAChDC,IAAI,EAAGyC,YAAY,IAAI;UACrB,IAAI,CAAC3E,iBAAiB,CAAC4E,OAAO,CAACvD,KAAK,CAAC;UACrC,IAAI,CAACwD,qBAAqB,EAAE;UAC5B,IAAI,CAACzC,aAAa,CAAC,4CAA4C,CAAC;UAChE,IAAI,CAAC0C,eAAe,EAAE;QACxB,CAAC;QACDpD,KAAK,EAAGA,KAAK,IAAI;UACfD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;UAC7C,IAAI,CAACU,aAAa,CAAC,6CAA6C,CAAC;QACnE;OACD,CAAC;;EAEN;EAEA3D,SAASA,CAAA;IACP;IACA,IAAI,CAAC2D,aAAa,CAAC,sBAAsB,CAAC;EAC5C;EAEAzD,WAAWA,CAAA;IACT,IAAI,CAACmG,eAAe,EAAE;IACtB,IAAI,CAAC1C,aAAa,CAAC,iBAAiB,CAAC;EACvC;EAEAzC,UAAUA,CAACoF,OAAe;IACxB,IAAI,CAAC1F,UAAU,GAAG0F,OAAO;IACzB,IAAI,CAAC1E,YAAY,GAAG,IAAI;IACxB,IAAI,CAACkB,iBAAiB,CAACwD,OAAO,CAAC;EACjC;EAEQP,gBAAgBA,CAACF,SAAiB,EAAEpF,QAAgB;IAC1D,MAAM,CAAC8F,KAAK,EAAEC,OAAO,CAAC,GAAGX,SAAS,CAACtB,KAAK,CAAC,GAAG,CAAC,CAACkC,GAAG,CAACC,MAAM,CAAC;IACzD,MAAMC,SAAS,GAAG,IAAI3C,IAAI,EAAE;IAC5B2C,SAAS,CAACC,QAAQ,CAACL,KAAK,EAAEC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;IACxCG,SAAS,CAACE,UAAU,CAACF,SAAS,CAACG,UAAU,EAAE,GAAGrG,QAAQ,CAAC;IAEvD,OAAO,GAAGkG,SAAS,CAACI,QAAQ,EAAE,CAAChC,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI2B,SAAS,CAACG,UAAU,EAAE,CAAC/B,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EACpH;EAEQqB,eAAeA,CAAA;IACrB,IAAI,CAACzF,UAAU,GAAG,EAAE;IACpB,IAAI,CAACP,gBAAgB,GAAG,IAAI;EAC9B;EAEQ2B,qBAAqBA,CAAA;IAC3B,MAAMgF,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC;IACvD,IAAIF,KAAK,EAAE;MACT,IAAI,CAACzF,iBAAiB,GAAG4F,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;;EAE9C;EAEQZ,qBAAqBA,CAAA;IAC3Ba,YAAY,CAACI,OAAO,CAAC,mBAAmB,EAAEF,IAAI,CAACG,SAAS,CAAC,IAAI,CAAC/F,iBAAiB,CAAC6D,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC/F;;;uBAxOW5D,uBAAuB,EAAArC,EAAA,CAAAoI,iBAAA,CAAAC,EAAA,CAAAC,eAAA;IAAA;EAAA;;;YAAvBjG,uBAAuB;MAAAkG,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAzI,EAAA,CAAA0I,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,iCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UA3O5BhJ,EAFJ,CAAAC,cAAA,aAA6B,aACD,SACpB;UAAAD,EAAA,CAAAE,MAAA,sCAAqB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAC9BH,EAAA,CAAAC,cAAA,QAAG;UAAAD,EAAA,CAAAE,MAAA,0EAAiE;UACtEF,EADsE,CAAAG,YAAA,EAAI,EACpE;UAGJH,EADF,CAAAC,cAAA,aAA4B,gBAME;UAD1BD,EAAA,CAAAI,UAAA,mBAAA8I,yDAAA;YAAA,OAASD,GAAA,CAAAjF,eAAA,EAAiB;UAAA,EAAC;UAE3BhE,EAAA,CAAAC,cAAA,cAAuB;UAAAD,EAAA,CAAAE,MAAA,mBAAE;UAAAF,EAAA,CAAAG,YAAA,EAAO;UAChCH,EAAA,CAAAC,cAAA,eAA0B;UACxBD,EAAA,CAAAE,MAAA,IACF;UAEJF,EAFI,CAAAG,YAAA,EAAO,EACA,EACL;UAENH,EAAA,CAAAuB,UAAA,KAAA4H,uCAAA,iBAA+C;UAqB7CnJ,EADF,CAAAC,cAAA,cAA4B,UACtB;UAAAD,EAAA,CAAAE,MAAA,mBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACpBH,EAAA,CAAAC,cAAA,cAAsB;UACpBD,EAAA,CAAAuB,UAAA,KAAA6H,uCAAA,iBAAyF;UAI7FpJ,EADE,CAAAG,YAAA,EAAM,EACF;UAENH,EAAA,CAAAuB,UAAA,KAAA8H,uCAAA,kBAAsE;UAOxErJ,EAAA,CAAAG,YAAA,EAAM;;;UA/CAH,EAAA,CAAAgB,SAAA,GAA+B;UAC/BhB,EADA,CAAAsJ,WAAA,cAAAL,GAAA,CAAAzG,WAAA,CAA+B,eAAAyG,GAAA,CAAAxG,YAAA,CACE;UAEjCzC,EAAA,CAAA0B,UAAA,aAAAuH,GAAA,CAAAxG,YAAA,CAAyB;UAGvBzC,EAAA,CAAAgB,SAAA,GACF;UADEhB,EAAA,CAAAiB,kBAAA,MAAAgI,GAAA,CAAAzG,WAAA,oBAAAyG,GAAA,CAAAxG,YAAA,2CACF;UAIyBzC,EAAA,CAAAgB,SAAA,EAAgB;UAAhBhB,EAAA,CAAA0B,UAAA,SAAAuH,GAAA,CAAAxH,UAAA,CAAgB;UAuB8BzB,EAAA,CAAAgB,SAAA,GAAgB;UAAhBhB,EAAA,CAAA0B,UAAA,YAAAuH,GAAA,CAAAvG,aAAA,CAAgB;UAMzD1C,EAAA,CAAAgB,SAAA,EAAkC;UAAlChB,EAAA,CAAA0B,UAAA,SAAAuH,GAAA,CAAA7G,iBAAA,CAAAmH,MAAA,KAAkC;;;qBAnD9DxJ,YAAY,EAAAyJ,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA;MAAAC,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}